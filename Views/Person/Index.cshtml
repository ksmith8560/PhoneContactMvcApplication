@model IEnumerable<PhoneContactMvcApplication.Models.Person>
@*<script src="@Url.Content("~/Scripts/jquery.mobile-1.3.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-1.8.2.js")" type="text/javascript"></script>*@

@{
    ViewBag.Title = "Contacts";
}

<p>
    @Html.ActionLink("Create New", "Create", new { }, new { data_role = "button", data_icon = "plus" })
</p>

@*<script language="JavaScript" type="text/javascript">
    $(function () {
        $("#autocomplete").autocomplete({
            source: '@Url.Action("QuickSearch","Person")',
            minLength: 1
        });
      });
    </script>*@
<ul id="autocomplete" data-role="listview" data-inset="true" data-filter="true"  data-filter-reveal="true" data-filter-placeholder="Find a contact..." data-filter-theme="d" >
    @foreach (var item in Model) {
     <li><a href="@Url.Action("Details", new { id=item.PersonID })">@item.First @item.Last</a></li>
    }
</ul>


<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.First)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Last)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.First)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Last)
        </td>
        <td>
            <div data-role="controlgroup" data-type="horizontal" data-mini="true">
            @Html.ActionLink("Edit", "Edit", new { id=item.PersonID },new { data_role = "button" , data_icon="plus" }) 
            @Html.ActionLink("Details", "Details", new { id=item.PersonID }, new { data_role = "button" , data_icon="grid" })
            @Html.ActionLink("Delete", "Delete", new { id=item.PersonID },new { data_role = "button" , data_icon="delete" })
            </div>
              
        </td>
    </tr>
}

</table>
